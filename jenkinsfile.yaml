---
apiVersion: 3
kind: JenkinsPipeline
metadata:
  name: my-pipeline-job
spec:
  jenkinsfilePath: Jenkinsfile
  definition:
    pipelines:
      - script: |
          pipeline {
            agent any
            stages {
              stage('Build') {
                steps {
                  sh 'echo "Building..."'
                }
              }
              stage('Test') {
                steps {
                  sh 'echo "Testing..."'
                }
              }
              stage('Deploy') {
                steps {
                  sh 'echo "Deploying..."'
                }
              }
            }
          }

